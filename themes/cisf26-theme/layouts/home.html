{{ define "main" }}
{{ $home := .Site.GetPage "page" "home" }}
<div class="page-content">
    <!-- Hero -->
    <section class="homepage-hero">
        <div class="hero-content">
            {{ with $home.Params.hero_logo }}
            <div class="hero-logo">
                {{ partial "cisf-logo.svg" . }}
            </div>
            {{ end }}
            {{ with $home.Params.hero_subtitle }}
                <p class="hero-subtitle">{{ . }}</p>
            {{ end }}
            <p>{{ $home.Params.event_date }}</p>
        </div>
    </section>

    <!-- Sponsors -->
    {{ $cat := $home.Params.sponsor_category }}
    {{ if $cat }}
    <section class="homepage-sponsors">
        <h2>I nostri partner</h2>
        <div class="sponsor-scroll">
            {{ $partners := where (where $.Site.RegularPages "Section" "partners") "Params.category" $cat }}
            {{ range $partners }}
            <div class="sponsor-card">
                {{ $partner := . }}
                {{ with .Params.logo }}
                <img src="{{ . | relURL }}" alt="{{ $partner.Title }} logo" />
                {{ end }}
            </div>
            {{ end }}
        </div>
    </section>
    {{ end }}

    <!-- About -->
    <section id="about" class="homepage-about">
        <div class="about-container">
            <div class="about-text">
                <h2>{{ $home.Params.about_title }}</h2>
                {{ $home.Params.about_text | markdownify }}
            </div>
            {{ with $home.Params.about_image }}
            <div class="about-image">
                <img src="{{ . | relURL }}" alt="About image">
            </div>
            {{ end }}
        </div>
    </section>
</div>
{{ end }}