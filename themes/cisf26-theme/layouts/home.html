{{ define "main" }}
<style>
    /* Hero */
    .homepage-hero {
        background: linear-gradient(135deg, #0a2540, #193763);
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 6rem 1rem;
        text-align: center;
        color: #fff;
    }
    .hero-logo {
        max-width: 280px;
        margin-bottom: 1rem;
    }
    .hero-subtitle {
        font-size: 1.25rem;
        opacity: 0.9;
    }

    /* Sponsors scroll */
    .homepage-sponsors {
        margin: 3rem 0;
        padding: 1rem;
    }
    .homepage-sponsors h2 {
        text-align: center;
        margin-bottom: 1rem;
    }
    .sponsor-scroll {
        display: flex;
        overflow-x: auto;
        gap: 1rem;
        padding-bottom: 0.5rem;
        scroll-snap-type: x mandatory;
    }
    .sponsor-card {
        flex: 0 0 auto;
        width: 140px;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        scroll-snap-align: start;
    }
    .sponsor-card img {
        max-width: 100px;
        max-height: 60px;
    }

    /* About section */
    .homepage-about {
        padding: 3rem 1rem;
        background: #f9fafc;
    }
    .about-container {
        max-width: 1100px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        align-items: center;
    }
    .about-text h2 {
        font-size: 2rem;
        margin-bottom: 1rem;
    }
    .about-text p {
        font-size: 1.125rem;
        line-height: 1.6;
    }
    .about-image img {
        width: 100%;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    @media (max-width: 768px) {
        .about-container {
            grid-template-columns: 1fr;
            text-align: center;
        }
    }
</style>
{{ $home := .Site.GetPage "page" "home" }}

<!-- Hero -->
<section class="homepage-hero">
    <div class="hero-content">
        {{ with $home.Params.hero_logo }}
<!--        <img src="{{ . | relURL }}" alt="CISF26 logo" class="hero-logo" />-->
        <svg
                width="327.3158mm"
                height="156.09929mm"
                viewBox="0 0 327.3158 156.09929"
                version="1.1"
                id="svg1"
                xmlns="http://www.w3.org/2000/svg"
        >
            <defs id="defs1"/>
            <g id="layer1" transform="translate(45.267572,-62.414242)">
                <g id="g13" style="display:inline" transform="matrix(1.4650246,0,0,1.4650246,-163.2753,-68.631296)">
                    <g id="Leaf_dx">
                        <g id="g2">
                            <path
                                    class="cls-28"
                                    d="m 292.72,109.36 c -3.8,4.01 -5.98,8.51 -5.44,13.31 0.06,0.56 2.24,6.87 1.57,6.94 -1.1,-1.73 -1.47,-3.94 -2.54,-5.64 -2.74,-4.33 -9.24,-6.85 -15.48,-8.49 1.44,8.58 7.74,14.86 18.39,19.44 0.13,3.59 -0.21,7.18 -1.33,10.7 -0.7,-1.42 -0.23,-2.98 -0.6,-4.49 -1.02,-4.13 -6.28,-7.19 -10.77,-9.72 -3,8.22 0.84,15.56 8.83,21.81 -1.25,3.64 -3.48,7.17 -5.69,10.54 2.23,-5.26 1.17,-9.31 -3.02,-13.97 -0.55,-0.61 -2.64,-3.14 -3.39,-2.61 -0.44,0.3 -3.15,5.94 -3.39,6.7 -1.92,6.09 -0.16,11.59 3.63,17.15 l -7.02,6.04 c 3.08,-5.45 -0.22,-11.07 -3.51,-16.09 -7.36,6.95 -11.64,15.45 -7.62,23.93 -4.84,2.61 -10.37,4.71 -16.09,6.29 -0.96,0.26 -6.09,1.13 -6.29,1.31 -0.35,0.3 0.02,2.8 -0.24,3.43 7.6,-1.07 14.81,-3.73 21.29,-6.53 0.9,-0.39 5.22,-2.89 5.56,-2.94 0.66,-0.09 4.24,0.5 5.32,0.49 15.33,-0.08 20.7,-4.96 28.19,-13.15 -6.88,-0.57 -13.9,0.78 -20.08,2.78 1.46,-0.67 5.8,-6.39 6.41,-6.62 0.64,-0.24 3.81,-0.28 4.84,-0.49 12.9,-2.67 16.61,-9.17 19.72,-17.4 -0.13,-0.33 -1.25,0.01 -1.57,0.08 -5.52,1.19 -10.43,3.42 -15.12,5.64 0.87,-1.03 1.43,-4.89 2.18,-5.55 0.24,-0.22 5.43,-2.23 6.65,-3.02 7.48,-4.84 8.44,-12.77 6.77,-19.28 -4.58,2.62 -8.24,5.74 -11.25,9.23 0.55,-1.64 -0.74,-4.62 -0.24,-6.04 0.16,-0.46 2.19,-1.97 2.66,-2.61 5.51,-7.59 3.88,-13.72 -1.33,-21.15 z"
                                    id="path1"
                                    style="fill:#295763"
                            />
                            <path
                                    class="cls-33"
                                    d="m 251.11,89.92 c -0.46,0.21 -0.25,0.3 -0.12,0.57 1.21,2.49 5.82,8.79 7.74,11.43 5.32,7.33 12.11,11.3 23.83,13.64 0.27,-13.73 -13.97,-21.26 -31.45,-25.65 z"
                                    id="path2"
                                    style="fill:#03a8b4"
                            />
                        </g>
                    </g>
                    <text
                            class="cls-37"
                            id="roma_text"
                            style="font-weight:600;font-size:14px;font-family:TBJEndgraph-EssentialSemiBold, TBJEndgraph;display:inline;fill:#a93314"
                            x="169.32106"
                            y="99.839996"
                    >
                        <tspan
                                class="cls-46"
                                x="169.32106"
                                y="99.839996"
                                id="tspan2"
                                style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:TBJEndgraph;-inkscape-font-specification:'TBJEndgraph Semi-Bold'">
                            R O M A
                        </tspan>
                    </text>
                    <text
                            class="cls-99"
                            id="new_year"
                            x="250"
                            y="193.98984"
                            style="font-size:9px;font-family:TBJEndgraph;fill:#fff"
                    >
                        <tspan
                                class="cls-99"
                                x="180"
                                y="193.98984"
                                id="tspan2"
                                style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:TBJEndgraph;-inkscape-font-specification:'TBJEndgraph Semi-Bold'">
                            2 0 2 6
                        </tspan>
                    </text>
                    <g id="Leaf_sx">
                        <g id="g9">
                            <path
                                    class="cls-28"
                                    d="m 91.8,109.42 c 3.8,4.01 5.98,8.51 5.44,13.31 -0.06,0.56 -2.24,6.87 -1.57,6.94 1.1,-1.73 1.47,-3.94 2.54,-5.64 2.74,-4.33 9.24,-6.85 15.48,-8.49 -1.44,8.58 -7.74,14.86 -18.39,19.44 -0.13,3.59 0.21,7.18 1.33,10.7 0.7,-1.42 0.23,-2.98 0.6,-4.49 1.02,-4.13 6.28,-7.19 10.77,-9.72 3,8.22 -0.84,15.56 -8.83,21.81 1.25,3.64 3.48,7.17 5.69,10.54 -2.23,-5.26 -1.17,-9.31 3.02,-13.97 0.55,-0.61 2.64,-3.14 3.39,-2.61 0.44,0.3 3.15,5.94 3.39,6.7 1.92,6.09 0.16,11.59 -3.63,17.15 l 7.02,6.04 c -3.08,-5.45 0.22,-11.07 3.51,-16.09 7.36,6.95 11.64,15.45 7.62,23.93 4.84,2.61 10.37,4.71 16.09,6.29 0.96,0.26 6.09,1.13 6.29,1.31 0.35,0.3 -0.02,2.8 0.24,3.43 -7.6,-1.07 -14.81,-3.73 -21.29,-6.53 -0.9,-0.39 -5.22,-2.89 -5.56,-2.94 -0.66,-0.09 -4.24,0.5 -5.32,0.49 -15.33,-0.08 -20.7,-4.96 -28.19,-13.15 6.88,-0.57 13.9,0.78 20.08,2.78 -1.46,-0.67 -5.8,-6.39 -6.41,-6.62 -0.64,-0.24 -3.81,-0.28 -4.84,-0.49 -12.9,-2.67 -16.61,-9.17 -19.72,-17.4 0.13,-0.33 1.25,0.01 1.57,0.08 5.52,1.19 10.43,3.42 15.12,5.64 -0.87,-1.03 -1.43,-4.89 -2.18,-5.55 -0.24,-0.22 -5.43,-2.23 -6.65,-3.02 -7.48,-4.84 -8.44,-12.77 -6.77,-19.28 4.58,2.62 8.24,5.74 11.25,9.23 -0.55,-1.64 0.74,-4.62 0.24,-6.04 -0.16,-0.46 -2.19,-1.97 -2.66,-2.61 -5.51,-7.59 -3.88,-13.72 1.33,-21.15 z"
                                    id="path8"
                                    style="fill:#295763"
                            />
                            <path
                                    class="cls-33"
                                    d="m 133.41,89.98 c 0.46,0.21 0.25,0.3 0.12,0.57 -1.21,2.49 -5.82,8.79 -7.74,11.43 -5.32,7.33 -12.11,11.3 -23.83,13.64 -0.27,-13.73 13.97,-21.26 31.45,-25.65 z"
                                    id="path9"
                                    style="fill:#03a8b4"
                            />
                        </g>
                    </g>
                    <g id="CIS">
                        <path
                                class="cls-62"
                                d="m 151.89,151.21 c 2.3,0 4.14,-0.53 5.53,-1.59 1.39,-1.06 2.26,-2.46 2.63,-4.22 h 7.83 c -0.07,1.94 -0.55,3.72 -1.42,5.34 -0.88,1.63 -2.05,3.03 -3.53,4.22 -1.48,1.19 -3.2,2.11 -5.18,2.77 -1.98,0.66 -4.11,0.99 -6.41,0.99 -2.45,0 -4.73,-0.46 -6.85,-1.37 -2.12,-0.91 -3.97,-2.18 -5.56,-3.81 -1.59,-1.62 -2.84,-3.56 -3.75,-5.81 -0.91,-2.24 -1.37,-4.7 -1.37,-7.37 0,-2.67 0.46,-5.12 1.37,-7.37 0.91,-2.24 2.15,-4.18 3.72,-5.8 1.57,-1.62 3.42,-2.89 5.56,-3.81 2.14,-0.91 4.41,-1.37 6.82,-1.37 2.41,0 4.44,0.34 6.41,1.01 1.97,0.67 3.7,1.6 5.18,2.77 1.48,1.17 2.66,2.57 3.56,4.19 0.89,1.62 1.38,3.4 1.45,5.34 h -7.83 c -0.4,-1.75 -1.31,-3.15 -2.74,-4.19 -1.42,-1.04 -3.32,-1.56 -5.7,-1.56 -1.35,0 -2.64,0.27 -3.86,0.79 -1.22,0.53 -2.3,1.26 -3.23,2.19 -0.93,0.93 -1.66,2.05 -2.19,3.37 -0.53,1.31 -0.79,2.77 -0.79,4.38 0,1.61 0.26,3.08 0.79,4.41 0.53,1.33 1.26,2.48 2.19,3.45 0.93,0.97 2.03,1.72 3.29,2.25 1.26,0.53 2.62,0.79 4.08,0.79 z"
                                id="path10"
                                style="fill:#a93314"/>
                        <path
                                class="cls-62"
                                d="m 185.68,142.32 3.08,0.81 -1.62,6.16 -3.08,-0.81 c -0.32,-0.08 -0.63,-0.17 -0.94,-0.27 -0.97,3.58 -1.97,6.56 -2.48,7.96 l -1.09,2.99 -5.99,-2.17 1.09,-2.99 c 0.53,-1.45 1.63,-4.72 2.61,-8.53 -3.26,-2.21 -5.3,-5.09 -6.39,-8.02 -0.77,-2.07 -1.06,-4.17 -0.97,-6.08 0.1,-2.03 0.61,-3.9 1.45,-5.38 1.34,-2.38 3.45,-3.87 6.06,-3.87 0.98,0 1.89,0.16 2.74,0.47 2.18,0.79 3.61,2.4 4.47,4.58 0.68,1.74 0.97,3.82 0.97,6.08 0,2.7 -0.41,5.75 -1,8.75 0.35,0.12 0.71,0.22 1.09,0.32 z m -6.92,-3.94 c 0.27,-1.79 0.44,-3.54 0.44,-5.13 0,-1.59 -0.15,-2.83 -0.52,-3.76 -0.19,-0.49 -0.42,-0.81 -0.7,-0.92 -0.13,-0.05 -0.31,-0.07 -0.57,-0.07 -0.11,0 -0.29,0.23 -0.5,0.6 -0.37,0.65 -0.6,1.53 -0.65,2.54 -0.05,1.13 0.12,2.36 0.57,3.58 0.4,1.08 1.03,2.16 1.92,3.15 z"
                                id="path11"
                                style="fill:#a93314"/>
                        <path
                                class="cls-62"
                                d="m 215.87,148.49 c 0,1.52 -0.35,2.92 -1.03,4.19 -0.68,1.27 -1.63,2.35 -2.83,3.24 -1.2,0.89 -2.61,1.58 -4.24,2.07 -1.63,0.49 -3.37,0.73 -5.22,0.73 -2.07,0 -3.92,-0.28 -5.57,-0.84 -1.65,-0.56 -3.06,-1.34 -4.24,-2.34 -1.18,-1 -2.08,-2.21 -2.69,-3.64 -0.61,-1.43 -0.92,-3.02 -0.92,-4.76 h 7.34 c 0,0.76 0.17,1.43 0.52,2.01 0.34,0.58 0.8,1.07 1.36,1.47 0.56,0.4 1.22,0.71 1.98,0.92 0.76,0.21 1.58,0.33 2.45,0.33 0.72,0 1.42,-0.08 2.09,-0.25 0.67,-0.16 1.26,-0.39 1.77,-0.68 0.51,-0.29 0.91,-0.66 1.22,-1.11 0.31,-0.45 0.46,-0.97 0.46,-1.55 0,-1.09 -0.46,-1.97 -1.39,-2.64 -0.92,-0.67 -2.08,-1.28 -3.45,-1.82 -1.38,-0.54 -2.87,-1.08 -4.49,-1.6 -1.61,-0.52 -3.11,-1.2 -4.48,-2.01 -1.38,-0.81 -2.53,-1.84 -3.45,-3.07 -0.92,-1.23 -1.39,-2.83 -1.39,-4.78 0,-1.41 0.32,-2.74 0.95,-3.97 0.63,-1.23 1.5,-2.3 2.61,-3.21 1.11,-0.91 2.42,-1.61 3.94,-2.12 1.52,-0.51 3.15,-0.76 4.89,-0.76 1.99,0 3.8,0.25 5.41,0.76 1.61,0.51 2.99,1.26 4.13,2.26 1.14,1 2.02,2.22 2.64,3.67 0.62,1.45 0.92,3.1 0.92,4.95 h -7.39 c 0,-1.63 -0.54,-2.87 -1.63,-3.72 -1.09,-0.85 -2.39,-1.28 -3.91,-1.28 -1.38,0 -2.56,0.32 -3.53,0.95 -0.98,0.63 -1.47,1.48 -1.47,2.53 0,1.05 0.46,1.9 1.39,2.56 0.92,0.65 2.07,1.23 3.45,1.74 1.38,0.51 2.87,1.03 4.49,1.58 1.61,0.54 3.11,1.23 4.49,2.07 1.38,0.83 2.53,1.89 3.45,3.18 0.92,1.29 1.39,2.95 1.39,4.97 z"
                                id="path12"
                                style="fill:#a93314"/>
                    </g>
                    <path
                        class="cls-47"
                        d="m 230.61,158.28 v -10.82 c -4.46,-0.16 -7.81,-1.4 -10.03,-3.72 -2.22,-2.32 -3.34,-5.41 -3.34,-9.26 0,-2.46 0.35,-4.73 1.04,-6.81 0.7,-2.08 1.73,-3.97 3.11,-5.67 h 7.96 c -1.57,1.63 -2.77,3.52 -3.6,5.65 -0.83,2.13 -1.25,4.3 -1.25,6.5 0,2.2 0.49,4.01 1.46,5.39 0.97,1.38 2.52,2.06 4.66,2.06 v -11.04 c 0,-2.94 0.79,-5.21 2.37,-6.79 1.58,-1.58 3.82,-2.38 6.73,-2.38 3.56,0 6.34,1.17 8.35,3.52 2.01,2.35 3.01,5.65 3.01,9.9 0,3.8 -1.24,6.82 -3.71,9.05 -2.47,2.23 -5.75,3.43 -9.83,3.59 v 10.82 h -6.92 z m 6.91,-16.67 c 2.14,0 3.71,-0.68 4.72,-2.05 1.01,-1.37 1.52,-3.1 1.52,-5.21 0,-2.11 -0.36,-3.93 -1.09,-5.21 -0.73,-1.27 -1.67,-1.91 -2.84,-1.91 -0.76,0 -1.33,0.24 -1.72,0.72 -0.39,0.48 -0.58,1.19 -0.58,2.15 v 11.5 z"
                        id="phi"
                        style="fill:#dd9426"
                    />
                </g>
            </g>
        </svg>
        {{ end }}
        {{ with $home.Params.hero_subtitle }}
        <p class="hero-subtitle">{{ . }}</p>
        {{ end }}
    </div>
</section>

<!-- Sponsors -->
{{ $home := .Site.GetPage "page" "home" }}
{{ $cat := $home.Params.sponsor_category }}
{{ if $cat }}
<section class="homepage-sponsors">
    <h2>I nostri partner</h2>
    <div class="sponsor-scroll">
        {{ $partners := where (where $.Site.RegularPages "Section" "partners") "Params.category" $cat }}
        {{ range $partners }}
        <div class="sponsor-card">
            {{ $partner := . }}
            {{ with .Params.logo }}
            <img src="{{ . | relURL }}" alt="{{ $partner.Title }} logo" />
            {{ end }}
        </div>
        {{ end }}
    </div>
</section>
{{ end }}


<!-- About -->
<section id="about" class="homepage-about">
    <div class="about-container">
        <div class="about-text">
            <h2>{{ $home.Params.about_title }}</h2>
            {{ $home.Params.about_text | markdownify }}
        </div>
        {{ with $home.Params.about_image }}
        <div class="about-image">
            <img src="{{ . | relURL }}" alt="About image">
        </div>
        {{ end }}
    </div>
</section>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const tl = gsap.timeline({ defaults: { ease: "power2.out" } });
        const cisLetters = document.querySelectorAll("#CIS path");
        const phi = document.querySelectorAll("#phi");

        tl.from("#Leaf_sx", { x: -100, opacity: 0, duration: 1 })
            .from("#Leaf_dx", { x: 100, opacity: 0, duration: 1 }, "<");

        // 1) CISF + glow effect
        tl.from([cisLetters, phi], {
            scale: 0,
            opacity: 0,
            transformOrigin: "center center",
            duration: 0.4,
            stagger: 0.2,
            ease: "back.out(2)"
        })
            .to([cisLetters, phi], {
                filter: "drop-shadow(0 0 10px #ff8c00)",
                duration: 0.3,
                stagger: 0.2
            }, "<")
            .to([cisLetters, phi], {
                filter: "drop-shadow(0 0 0px #ff8c00)",
                duration: 0.4,
                stagger: 0.2
            });


        // 2) ROMA
        tl.from("#roma_text", { y: -50, opacity: 0, duration: 0.8 }, "-=0.3");

        // 3) 2026
        tl.from("#new_year", {
            y: 0,
            opacity: 0,
            duration: 0.8
        }, "-=0.3");
    });
</script>
{{ end }}