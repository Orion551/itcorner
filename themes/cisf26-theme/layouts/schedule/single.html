{{ define "main" }}
<section class="schedule-grid">
    {{ $events := (where (site.GetPage "section" "scheduled-event").RegularPages "Draft" false) }}
    {{ $byDay := dict }}
    {{ range $events }}
    {{ $day := .Params.day | default "ALTRO" }}
    {{ $list := (index $byDay $day | default (slice)) | append . }}
    {{ $byDay = merge $byDay (dict $day $list) }}
    {{ end }}

    {{ range $day := slice "monday" "tuesday" "wednesday" "thursday" "friday" "saturday" "sunday" }}
    {{ with index $byDay $day }}
    <div class="day-column">
        <h2>{{ $day }}</h2>
        {{ range sort . "Params.weight" }}
            {{ partial "event-card.html" . }}
        {{ end }}
    </div>
    {{ end }}
    {{ end }}
</section>

{{ end }}